<div class="branch-details fill-parent flex-col-layout ai-stretch">
  <form class="flex padding-y overflow-y scrollbar" [formGroup]="branchFG">    
    <mat-card>
      <mat-card-title>
        <button mat-icon-button type="button" routerLink="/admin/sucursales">
          <i class="material-icons">keyboard_backspace</i>
        </button>
        <span><b>{{ branch ? 'Editar sucursal' : 'Crear sucursal' }}</b></span>
      </mat-card-title>
      <mat-card-subtitle>
        Si desea designar la gestión de esta sucursal a alguien más, deberá contactar con el equipo de
        <i>COCOS</i> para la creación de un nuevo usuario exclusivo para este local.
      </mat-card-subtitle>
      <mat-card-content class="flex-col-layout ai-stretch">
        <mat-form-field>
          <input autocomplete="off" type="text" matInput placeholder="Nombre" formControlName="name">
          <mat-error>Requerido</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input autocomplete="off" type="text" matInput placeholder="Dirección" formControlName="address">
          <button mat-button matSuffix mat-icon-button aria-label="Clear" type="button" (click)="onLocationRequired()">
            <mat-icon>location_on</mat-icon>
          </button>
          <mat-error>Requerido</mat-error>
        </mat-form-field>
        <div>
          <agm-map [latitude]="lat" [longitude]="lng" [zoom]="18">
            <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
          </agm-map>
        </div>
        <mat-form-field>
          <mat-select placeholder="Categorías" formControlName="subcategoryList" multiple>
            <mat-option *ngFor="let category of categoryList" [value]="category">
              {{category.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-select placeholder="Servicios" formControlName="serviceList" multiple>
            <mat-option *ngFor="let service of serviceList" [value]="service">
              {{service.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="flex-row-layout flex-gap">
            <w-mat-timepicker class="flex-50" color="primary" [userTime]="formatTime(branchFG.get('openTime').value)" 
            (userTimeChange)="setTime($event,branchFG.get('openTime'))" placeholder="Hora inicio">
            </w-mat-timepicker>
            <w-mat-timepicker class="flex" color="primary" [userTime]="formatTime(branchFG.get('closeTime').value)" 
            (userTimeChange)="setTime($event,branchFG.get('closeTime'))" placeholder="Hora Fin">
            </w-mat-timepicker>
        </div>
        <div class="flex-row-layout flex-gap">
          <mat-form-field class="flex-50">
            <input autocomplete="off" type="text" matInput placeholder="Teléfono 1">
            <mat-error>Requerido</mat-error>
          </mat-form-field>
          <mat-form-field class="flex">
            <input autocomplete="off" type="text" matInput placeholder="Teléfono 2">
            <mat-error>Requerido</mat-error>
          </mat-form-field>
        </div>
        <mat-form-field>
          <span matPrefix>+51&nbsp;&nbsp;</span>
          <input autocomplete="off" type="text" matInput placeholder="Whatsapp">
          <mat-error>Requerido</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input autocomplete="off" type="text" matInput placeholder="Página de Facebook (URL)">
          <mat-error>Requerido</mat-error>
        </mat-form-field>
        <div class="flex-row-layout jc-flex-end">
          <button mat-raised-button color="primary">
            Crear sucursal
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </form>
  </div>